head
  title form-data-binder-driven-case
  meta(charset='utf-8')
  link(rel='stylesheet', href='index.css')
  script(src='vendor/jquery/jquery.js')
  script(src='define.js')
  script(src='form-array-container.js')
  script(src='form-data.js')
  script(src='event-emitter.js')
  script(src='form-manager.js')
  script(src='local-recoverier.js')
  script(src='index.js')
  //- script(src='//localhost:35729/livereload.js')


body
  h1 form-data-binder-driven-case: parsed form
  form#parsed
    label 题目
    input(type='text' name='title')
    label 要求
    input(type='text' name='content')
    label 时间
    input(type='text' name='endTime')

    .a-plus.object(name='assignedBy')
      label 出题教师
      input(type='hidden', name='assignedBy.userId')
      input(type='text', name='assignedBy.name')

    .a-plus.array-container(name='forStudents' data-a-plus-restriction='[0, *]' data-a-plus-length='1')
      label 参与学生
      .a-plus.array-item
        input(type='text' name='forStudents[0]')

    .a-plus.array-container(name='submissions' data-a-plus-restriction='[0, 2]' data-a-plus-length='1')
      label 交付件列表
      .a-plus.array-item.object(name='submissions[0]')
        fieldset
          legend 交付件
          label 名称
          input(type='text', name='submissions[0].name')
          .a-plus.array-container(name='submissions[0].type' data-a-plus-restriction='[1, *]' data-a-plus-length='1')
            label 文件格式
            .a-plus.array-item
              input(type='text' name='submissions[0].type[0]')
          label 要求
          input(type='text' name='submissions[0].description')

  //- formatted form
    1）必须加入.a-plus.array-container标记 array，用data-a-plus-length记录array的length
    2）必须用.a-plus.array-item注明array的item
    3) 必须用.a-plus.object标注出对象